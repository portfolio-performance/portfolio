(function(k){var a=new Hashtable();var f=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var b=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var i=["bg","cz","fi","fr","no","pl","ru","se"];var d=["ch"];var g=[[".",","],[",","."],[","," "],[".","'"]];var c=[f,b,i,d];function j(n,l,m){this.dec=n;this.group=l;this.neg=m}function h(){for(var l=0;l<c.length;l++){var n=c[l];for(var m=0;m<n.length;m++){a.put(n[m],l)}}}function e(l,r){if(a.size()==0){h()}var q=".";var o=",";var p="-";if(r==false){if(l.indexOf("_")!=-1){l=l.split("_")[1].toLowerCase()}else{if(l.indexOf("-")!=-1){l=l.split("-")[1].toLowerCase()}}}var n=a.get(l);if(n){var m=g[n];if(m){q=m[0];o=m[1]}}return new j(q,o,p)}k.fn.formatNumber=function(l,m,n){return this.each(function(){if(m==null){m=true}if(n==null){n=true}var p;if(k(this).is(":input")){p=new String(k(this).val())}else{p=new String(k(this).text())}var o=k.formatNumber(p,l);if(m){if(k(this).is(":input")){k(this).val(o)}else{k(this).text(o)}}if(n){return o}})};k.formatNumber=function(q,w){var w=k.extend({},k.fn.formatNumber.defaults,w);var l=e(w.locale.toLowerCase(),w.isFullLocale);var n=l.dec;var u=l.group;var o=l.neg;var m="0#-,.";var t="";var s=false;for(var r=0;r<w.format.length;r++){if(m.indexOf(w.format.charAt(r))==-1){t=t+w.format.charAt(r)}else{if(r==0&&w.format.charAt(r)=="-"){s=true;continue}else{break}}}var v="";for(var r=w.format.length-1;r>=0;r--){if(m.indexOf(w.format.charAt(r))==-1){v=w.format.charAt(r)+v}else{break}}w.format=w.format.substring(t.length);w.format=w.format.substring(0,w.format.length-v.length);var p=new Number(q);return k._formatNumber(p,w,v,t,s)};k._formatNumber=function(m,q,n,H,t){var q=k.extend({},k.fn.formatNumber.defaults,q);var F=e(q.locale.toLowerCase(),q.isFullLocale);var E=F.dec;var w=F.group;var l=F.neg;if(q.overrideGroupSep!=null){w=q.overrideGroupSep}if(q.overrideDecSep!=null){E=q.overrideDecSep}if(q.overrideNegSign!=null){l=q.overrideNegSign}var z=false;if(isNaN(m)){if(q.nanForceZero==true){m=0;z=true}else{return""}}if(q.isPercentage==true||(q.autoDetectPercentage&&n.charAt(n.length-1)=="%")){m=m*100}var B="";if(q.format.indexOf(".")>-1){var G=E;var u=q.format.substring(q.format.lastIndexOf(".")+1);if(q.round==true){m=new Number(m.toFixed(u.length))}else{var L=m.toString();if(L.lastIndexOf(".")>0){L=L.substring(0,L.lastIndexOf(".")+u.length+1)}m=new Number(L)}var A=new Number(m.toString().substring(m.toString().indexOf(".")));decimalString=new String(A.toFixed(u.length));decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var I=0;I<u.length;I++){if(u.charAt(I)=="#"&&decimalString.charAt(I)!="0"){G+=decimalString.charAt(I);continue}else{if(u.charAt(I)=="#"&&decimalString.charAt(I)=="0"){var r=decimalString.substring(I);if(r.match("[1-9]")){G+=decimalString.charAt(I);continue}else{break}}else{if(u.charAt(I)=="0"){G+=decimalString.charAt(I)}}}}B+=G}else{m=Math.round(m)}var v=Math.floor(m);if(m<0){v=Math.ceil(m)}var D="";if(q.format.indexOf(".")==-1){D=q.format}else{D=q.format.substring(0,q.format.indexOf("."))}var K="";if(!(v==0&&D.substr(D.length-1)=="#")||z){var x=new String(Math.abs(v));var p=9999;if(D.lastIndexOf(",")!=-1){p=D.length-D.lastIndexOf(",")-1}var o=0;for(var I=x.length-1;I>-1;I--){K=x.charAt(I)+K;o++;if(o==p&&I!=0){K=w+K;o=0}}if(D.length>K.length){var J=D.indexOf("0");if(J!=-1){var C=D.length-J;var s=D.length-K.length-1;while(K.length<C){var y=D.charAt(s);if(y==","){y=w}K=y+K;s--}}}}if(!K&&D.indexOf("0",D.length-1)!==-1){K="0"}B=K+B;if(m<0&&t&&H.length>0){H=l+H}else{if(m<0){B=l+B}}if(!q.decimalSeparatorAlwaysShown){if(B.lastIndexOf(E)==B.length-1){B=B.substring(0,B.length-1)}}B=H+B+n;return B};k.fn.parseNumber=function(l,m,o){if(m==null){m=true}if(o==null){o=true}var p;if(k(this).is(":input")){p=new String(k(this).val())}else{p=new String(k(this).text())}var n=k.parseNumber(p,l);if(n){if(m){if(k(this).is(":input")){k(this).val(n.toString())}else{k(this).text(n.toString())}}if(o){return n}}};k.parseNumber=function(u,z){var z=k.extend({},k.fn.parseNumber.defaults,z);var m=e(z.locale.toLowerCase(),z.isFullLocale);var r=m.dec;var x=m.group;var s=m.neg;if(z.overrideGroupSep!=null){x=z.overrideGroupSep}if(z.overrideDecSep!=null){r=z.overrideDecSep}if(z.overrideNegSign!=null){s=z.overrideNegSign}var l="1234567890";var p=".-";var n=z.strict;while(u.indexOf(x)>-1){u=u.replace(x,"")}u=u.replace(r,".").replace(s,"-");var y="";var q=false;if(z.isPercentage==true||(z.autoDetectPercentage&&u.charAt(u.length-1)=="%")){q=true}for(var v=0;v<u.length;v++){if(l.indexOf(u.charAt(v))>-1){y=y+u.charAt(v)}else{if(p.indexOf(u.charAt(v))>-1){y=y+u.charAt(v);p=p.replace(u.charAt(v),"")}else{if(z.allowPostfix){break}else{if(n){y="NaN";break}}}}}var t=new Number(y);if(q){t=t/100;var w=y.indexOf(".");if(w!=-1){var o=y.length-w-1;t=t.toFixed(o+2)}else{t=t.toFixed(2)}}return t};k.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,autoDetectPercentage:true,isFullLocale:false,strict:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,allowPostfix:false};k.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false,overrideGroupSep:null,overrideDecSep:null,overrideNegSign:null,isPercentage:false,autoDetectPercentage:true};Number.prototype.toFixed=function(l){return k._roundNumber(this,l)};k._roundNumber=function(n,m){var l=Math.pow(10,m||0);var o=String(Math.round(n*l)/l);if(m>0){var p=o.indexOf(".");if(p==-1){o+=".";p=0}else{p=o.length-(p+1)}while(p<m){o+="0";p++}}return o}})(jQuery);