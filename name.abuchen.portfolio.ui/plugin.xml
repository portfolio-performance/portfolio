<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
	<extension point="org.eclipse.core.contenttype.contentTypes">
	    <content-type
           base-type="org.eclipse.core.runtime.xml"
           file-extensions="xml"
           id="name.abuchen.portfolio.client"
           name="%content-type.name"
           priority="high">
               <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber2">
                   <parameter name="element" value="client"/>
               </describer>
		</content-type>
	</extension>

	<extension point="org.eclipse.ui.editors">
		<editor
		      class="name.abuchen.portfolio.ui.ClientEditor"
		      default="false"
		      id="name.abuchen.portfolio.ui.editor"
		      name="%editor.name">
			<contentTypeBinding contentTypeId="name.abuchen.portfolio.client"/>
		</editor>
	</extension>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="name.abuchen.portfolio.ui.app.Application">
         </run>
      </application>
   </extension>

   <extension
         id="commandline"
         point="org.eclipse.core.runtime.applications">
      <application
            visible="true">
         <run
               class="name.abuchen.portfolio.ui.app.CommandLineApplication">
         </run>
      </application>
   </extension>

   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="%perspective.name"
            class="name.abuchen.portfolio.ui.app.Perspective"
            id="name.abuchen.portfolio.perspective">
      </perspective>
   </extension>

   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="name.abuchen.portfolio.ui.application"
            name="Portfolio Performance">
         <property
               name="appName"
               value="Portfolio Performance">
         </property>
         <property
               name="aboutImage"
               value="icons/about.gif">
         </property>
         <property
               name="windowImages"
               value="icons/pp_16.gif,icons/pp_32.gif,icons/pp_48.gif,icons/pp_128.gif"/>
         <property
               name="aboutText"
               value="Portfolio Performance&#x0A;&#x0A;Version {0}&#x0A;&#x0A;(c) Copyright Andreas Buchen 2012, 2013.  All rights reserved.&#x0A;&#x0A;This product includes software developed by the&#x0A;Eclipse Foundation http://eclipse.org/&#x0A;Apache Software Foundation http://apache.org/&#x0A;SWT Chart Project http://www.swtchart.org/&#x0A;Tree Map Library http://code.google.com/p/treemaplib/&#x0A;&#x0A;Some icons are based on&#x0A;FatCow Hosting Icons http://www.fatcow.com/free-icons&#x0A;(Creative Commons Attribution 3.0 United States)&#x0A;&#x0A;This product is published under the Eclipse Public License&#x0A;http://www.eclipse.org/legal/epl-v10.html">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>

   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="file"
               label="%menu.file.label">
            <command
                  id="name.abuchen.portfolio.ui.menus.newFileCommand"
                  commandId="name.abuchen.portfolio.ui.commands.newFileCommand"
                  mnemonic="%command.newFile.mnemonic">
            </command>
            <command
                  id="name.abuchen.portfolio.ui.menus.openFileCommand"
                  commandId="name.abuchen.portfolio.ui.commands.openFileCommand"
                  mnemonic="%command.openFile.mnemonic">
            </command>
            <separator
                  name="name.abuchen.portfolio.ui.menus.fileSeparator"
                  visible="true">
            </separator>
            <command
                  id="org.eclipse.ui.file.save"
                  commandId="org.eclipse.ui.file.save">
            </command>
            <command
                  id="org.eclipse.ui.file.save"
                  commandId="org.eclipse.ui.file.saveAs">
            </command>
            <separator
                  name="name.abuchen.portfolio.ui.menus.operationsSeparator"
                  visible="true">
            </separator>
            <command
                  id="name.abuchen.portfolio.ui.commands.consistencyChecksCommand"
                  commandId="name.abuchen.portfolio.ui.commands.consistencyChecksCommand">
            </command>
            <separator
                  name="name.abuchen.portfolio.ui.menus.exportSeparator"
                  visible="true">
            </separator>
            <command
                  id="name.abuchen.portfolio.ui.menus.importCommand"
                  commandId="name.abuchen.portfolio.ui.commands.importCommand">
            </command>
            <command
                  id="name.abuchen.portfolio.ui.menus.exportCommand"
                  commandId="name.abuchen.portfolio.ui.commands.exportCommand">
            </command>
         </menu>
         <menu
               id="online"
               label="%menu.online.label">
            <command
                  id="name.abuchen.portfolio.ui.menus.updateQuotesCommand"
                  commandId="name.abuchen.portfolio.ui.commands.updateQuotesCommand">
            </command>
            <command
                  id="name.abuchen.portfolio.ui.menus.updateQuotesCommand2"
                  commandId="name.abuchen.portfolio.ui.commands.updateQuotesCommand"
                  label="%command.updateHistoricQuotes.label">
               <parameter name="name.abuchen.portfolio.ui.param.target" value="historic"/>
            </command>
            <command
                  commandId="name.abuchen.portfolio.ui.commands.updateCPICommand"
                  id="name.abuchen.portfolio.ui.menus.updateCPICommand">
            </command>
         </menu>
         <menu id="help"
               label="%menu.help.label">
            <visibleWhen
                  checkEnabled="true">
               <not>
                  <systemTest
                        property="os.name"
                        value="Mac OS X">
                  </systemTest>
               </not>
            </visibleWhen>
            <command
                  id="org.eclipse.ui.help.aboutAction"
                  commandId="org.eclipse.ui.help.aboutAction">
            </command>
            <command
                  id="org.eclipse.ui.help.quickStartAction"
                  commandId="org.eclipse.ui.help.quickStartAction">
            </command>
            <separator
                  name="name.abuchen.portfolio.ui.menus.helpSeparator"
                  visible="true">
            </separator>
            <command
                  id="org.eclipse.ui.window.preferences"
                  commandId="org.eclipse.ui.window.preferences">
            </command>
            <command
                  id="name.abuchen.portfolio.ui.menus.updateCommand"
                  commandId="name.abuchen.portfolio.ui.commands.updateCommand">
            </command>
            <command
                  commandId="org.eclipse.ui.views.showView"
                  label="%command.showErrorView.label"
                  style="push">
               <parameter
                     name="org.eclipse.ui.views.showView.viewId"
                     value="org.eclipse.pde.runtime.LogView">
               </parameter>
            </command>
         </menu>
      </menuContribution>
   </extension>

   <extension
         point="org.eclipse.ui.commands">
      <category
            id="name.abuchen.portfolio.ui.commands.category"
            name="%category.name">
      </category>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.openFileCommand"
            name="%command.openFile.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.openSampleCommand"
            name="%command.openSample.name">
         <commandParameter
               id="name.abuchen.portfolio.ui.param.sample"
               name="sample"
               optional="true">
         </commandParameter>
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.newFileCommand"
            name="%command.newFile.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.updateQuotesCommand"
            name="%command.updateQuotes.name">
         <commandParameter
               id="name.abuchen.portfolio.ui.param.target"
               name="target"
               optional="true">
         </commandParameter>
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.updateCPICommand"
            name="%command.updateCPI.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.importCommand"
            name="%command.import.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.exportCommand"
            name="%command.export.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.updateCommand"
            name="%command.update.name">
      </command>
      <command
            categoryId="name.abuchen.portfolio.ui.commands.category"
            id="name.abuchen.portfolio.ui.commands.consistencyChecksCommand"
            name="%command.consistencyChecks.name">
      </command>
   </extension>

   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="name.abuchen.portfolio.ui.handlers.OpenFileHandler"
            commandId="name.abuchen.portfolio.ui.commands.openFileCommand">
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.OpenSampleFileHandler"
            commandId="name.abuchen.portfolio.ui.commands.openSampleCommand">
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.NewFileHandler"
            commandId="name.abuchen.portfolio.ui.commands.newFileCommand">
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.UpdateQuotesHandler"
            commandId="name.abuchen.portfolio.ui.commands.updateQuotesCommand">
         <activeWhen>
            <with variable="activeEditorId">
               <equals value="name.abuchen.portfolio.ui.editor"/>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.UpdateCPIHandler"
            commandId="name.abuchen.portfolio.ui.commands.updateCPICommand">
         <activeWhen>
            <with variable="activeEditorId">
               <equals value="name.abuchen.portfolio.ui.editor"/>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.ImportHandler"
            commandId="name.abuchen.portfolio.ui.commands.importCommand">
         <activeWhen>
            <with variable="activeEditorId">
               <equals value="name.abuchen.portfolio.ui.editor"/>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.ExportHandler"
            commandId="name.abuchen.portfolio.ui.commands.exportCommand">
         <activeWhen>
            <with variable="activeEditorId">
               <equals value="name.abuchen.portfolio.ui.editor"/>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.UpdateHandler"
            commandId="name.abuchen.portfolio.ui.commands.updateCommand">
      </handler>
      <handler
            class="name.abuchen.portfolio.ui.handlers.RunConsistencyChecksHandler"
            commandId="name.abuchen.portfolio.ui.commands.consistencyChecksCommand">
         <activeWhen>
            <with variable="activeEditorId">
               <equals value="name.abuchen.portfolio.ui.editor"/>
            </with>
         </activeWhen>
      </handler>
   </extension>

   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="name.abuchen.portfolio.ui.commands.openFileCommand"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="name.abuchen.portfolio.ui.scheme"
            sequence="M1+O">
      </key>
      <key
            commandId="name.abuchen.portfolio.ui.commands.newFileCommand"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="name.abuchen.portfolio.ui.scheme"
            sequence="M1+N">
      </key>
      <key
            commandId="org.eclipse.ui.file.save"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="name.abuchen.portfolio.ui.scheme"
            sequence="M1+S">
      </key>
      <key
            commandId="org.eclipse.ui.file.saveAs"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="name.abuchen.portfolio.ui.scheme"
            sequence="M1+M2+S">
      </key>
      <scheme
            id="name.abuchen.portfolio.ui.scheme"
            name="%scheme.name">
      </scheme>
   </extension>

   <extension
         point="org.eclipse.ui.elementFactories">
      <factory
            class="name.abuchen.portfolio.ui.ElementFactory"
            id="name.abuchen.portfolio.ui.factory">
      </factory>
   </extension>

   <extension
         point="org.eclipse.ui.splashHandlers">
      <splashHandler
            class="name.abuchen.portfolio.ui.app.VersionNumberSplashHandler"
            id="name.abuchen.portfolio.ui.splash">
      </splashHandler>
      <splashHandlerProductBinding
            productId="name.abuchen.portfolio.ui.product"
            splashId="name.abuchen.portfolio.ui.splash">
      </splashHandlerProductBinding>         
   </extension>

   <extension
         point="org.eclipse.ui.intro">
      <introProductBinding
            introId="name.abuchen.portfolio.ui.intro"
            productId="name.abuchen.portfolio.ui.product">
      </introProductBinding>
      <intro
            class="name.abuchen.portfolio.ui.app.IntroPart"
            id="name.abuchen.portfolio.ui.intro">
      </intro>
   </extension>

   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="name.abuchen.portfolio.ui.preferences.UpdatePreferencePage"
            id="name.abuchen.portfolio.ui.updatePreferencePage"
            name="%pref.updates.name">
      </page>
   </extension>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="name.abuchen.portfolio.ui.preferences.UpdateInitializer">
      </initializer>
   </extension>
</plugin>
