<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="name.abuchen.portfolio.ui.preferences.PreferencesInitializer">
      </initializer>
   </extension>

   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="name.abuchen.portfolio.ui.expression.IsNotMacOSX">
         <not>
            <systemTest
                  property="os.name"
                  value="Mac OS X">
            </systemTest>
         </not>
      </definition>
      <definition
            id="name.abuchen.portfolio.ui.expression.IsUpdateNotDisabled">
         <and>
            <not>
               <systemTest
                  property="os.name"
                  value="Mac OS X">
               </systemTest>
            </not>
            <not>
               <systemTest
                  property="name.abuchen.portfolio.in-app-update"
                  value="disable">
               </systemTest>
            </not>
         </and>
      </definition>
   </extension>
   <extension
         point="org.eclipse.e4.ui.css.core.propertyHandler">
      <handler
            adapter="name.abuchen.portfolio.ui.theme.SidebarElementAdapter"
            composite="true"
            handler="name.abuchen.portfolio.ui.theme.SidebarCSSHandler">
         <property-name
               name="selection-color">
         </property-name>
         <property-name
               name="selection-background-color">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.ChartElementAdapter"
            composite="false"
            handler="name.abuchen.portfolio.ui.theme.ChartCSSHandler">
         <property-name
               name="background-color">
         </property-name>
         <property-name
               name="axis-color">
         </property-name>
         <property-name
               name="grid-color">
         </property-name>
         <property-name
               name="highlight-color">
         </property-name>
         <property-name
               name="measurement-color">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.ColorsThemeElementAdapter"
            handler="name.abuchen.portfolio.ui.theme.ColorsThemeCSSHandler">
         <property-name
               name="default-foreground">
         </property-name>
         <property-name
               name="default-background">
         </property-name>
         <property-name
               name="warning-background">
         </property-name>
         <property-name
               name="red-background">
         </property-name>
         <property-name
               name="green-background">
         </property-name>
         <property-name
               name="red-foreground">
         </property-name>
         <property-name
               name="green-foreground">
         </property-name>
         <property-name
               name="gray-foreground">
         </property-name>
         <property-name
               name="hyperlink">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.TableElementAdapter"
            handler="name.abuchen.portfolio.ui.theme.ColumnViewerCSSHandler">
         <property-name
               name="swt-lines-visible">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.TreeElementAdapter"
            handler="name.abuchen.portfolio.ui.theme.ColumnViewerCSSHandler">
         <property-name
               name="swt-lines-visible">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.SecuritiesChartElementAdapter"
            handler="name.abuchen.portfolio.ui.theme.SecuritiesChartCSSHandler">
         <property-name
               name="quote-color">
         </property-name>
         <property-name
               name="quote-area-positive-color">
         </property-name>
         <property-name
               name="quote-area-negative-color">
         </property-name>
         <property-name
               name="purchase-event-color">
         </property-name>
         <property-name
               name="sale-event-color">
         </property-name>
         <property-name
               name="dividend-event-color">
         </property-name>
         <property-name
               name="extreme-marker-high-color">
         </property-name>
         <property-name
               name="extreme-marker-low-color">
         </property-name>
         <property-name
               name="non-trading-color">
         </property-name>
         <property-name
               name="shares-held-color">
         </property-name>
      </handler>
      <handler
            adapter="name.abuchen.portfolio.ui.theme.PortfolioBalanceChartElementAdapter"
            handler="name.abuchen.portfolio.ui.theme.PortfolioBalanceChartCSSHandler">
         <property-name
               name="invested-capital-color">
         </property-name>
         <property-name
               name="absolute-delta-color">
         </property-name>
         <property-name
               name="delta-area-positive-color">
         </property-name>
         <property-name
               name="delta-area-negative-color">
         </property-name>
      </handler>
   </extension>
   <extension
         point="org.eclipse.e4.ui.css.core.elementProvider">
      <provider
            class="name.abuchen.portfolio.ui.theme.ElementProvider">
         <widget
               class="name.abuchen.portfolio.ui.theme.ThemesExtension">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.theme.ColorDefinition">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.theme.FontDefinition">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.editor.Sidebar">
         </widget>
         <widget
               class="org.eclipse.swtchart.Chart">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.util.Colors$Theme">
         </widget>
         <widget
               class="org.eclipse.swt.widgets.Table">
         </widget>
         <widget
               class="org.eclipse.swt.widgets.Tree">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.views.SecuritiesChart">
         </widget>
         <widget
               class="name.abuchen.portfolio.ui.views.PortfolioBalanceChart">
         </widget>
      </provider>
   </extension>
   <extension
         point="org.eclipse.e4.ui.css.swt.theme">
      <theme
            basestylesheeturi="css/light_mac.css"
            id="name.abuchen.portfolio.light"
            label="%theme.light"
            os="macosx">
      </theme>
      <theme
            basestylesheeturi="css/dark_mac.css"
            id="name.abuchen.portfolio.dark"
            label="%theme.dark"
            os="macosx">
      </theme>
      <theme
            basestylesheeturi="css/light_win.css"
            id="name.abuchen.portfolio.light"
            label="%theme.light"
            os="win32">
      </theme>
      <theme
            basestylesheeturi="css/dark_win.css"
            id="name.abuchen.portfolio.dark"
            label="%theme.dark"
            os="win32">
      </theme>
      <theme
            basestylesheeturi="css/light_linux.css"
            id="name.abuchen.portfolio.light"
            label="%theme.light"
            os="linux">
      </theme>
      <theme
            basestylesheeturi="css/dark_linux.css"
            id="name.abuchen.portfolio.dark"
            label="%theme.dark"
            os="linux">
      </theme>
   </extension>
</plugin>
